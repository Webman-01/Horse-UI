{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, mergeProps as _mergeProps, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, vShow as _vShow, withCtx as _withCtx, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = [\"type\", \"placeholder\", \"disabled\", \"readonly\"];\nimport { useAttrs, useSlots, ref, watch, onMounted, nextTick, computed, inject, } from \"vue\";\nimport { createNameSpace } from \"../../../utils/create\";\nimport { inputProps, inputEmits } from \"./input\";\nimport { EyeOutline, EyeOffOutline, CloseCircleOutline, } from \"@vicons/ionicons5\";\nimport { FormItemContextKey } from \"../../form/src/form-item\";\nexport default _defineComponent(Object.assign({\n    name: \"h-input\",\n    inheritAttrs: false,\n}, { __name: 'input', props: inputProps, emits: inputEmits, setup(__props, { emit: __emit }) {\n        const slots = useSlots();\n        const attrs = useAttrs();\n        const bem = createNameSpace(\"input\");\n        const props = __props;\n        const emits = __emit;\n        const input = ref(null);\n        watch(() => props.modelValue, () => {\n            setInputValue();\n            formItemContext === null || formItemContext === void 0 ? void 0 : formItemContext.validate(\"change\").catch(() => { });\n        });\n        const setInputValue = () => {\n            const inputVal = input.value;\n            if (!inputVal)\n                return;\n            inputVal.value = String(props.modelValue);\n        };\n        const handleInput = (e) => {\n            const value = e.target.value;\n            emits(\"input\", value);\n            emits(\"update:modelValue\", value);\n        };\n        const handleChange = (e) => {\n            emits(\"change\", e.target.value);\n        };\n        const isFocus = ref(false);\n        const handleFocus = (e) => {\n            emits(\"focus\", e);\n            isFocus.value = true;\n        };\n        const handleBlur = (e) => {\n            formItemContext === null || formItemContext === void 0 ? void 0 : formItemContext.validate(\"blur\").catch(() => { });\n            emits(\"blur\", e);\n            isFocus.value = false;\n        };\n        onMounted(() => {\n            setInputValue();\n        });\n        const passwordVisible = ref(false);\n        const handlePasswordVisible = () => {\n            passwordVisible.value = !passwordVisible.value;\n            focus();\n        };\n        const focus = () => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            yield nextTick();\n            (_a = input.value) === null || _a === void 0 ? void 0 : _a.focus();\n        });\n        const clear = () => {\n            emits(\"input\", \"\");\n            emits(\"update:modelValue\", \"\");\n            emits(\"clear\");\n            focus();\n        };\n        const showClear = computed(() => {\n            return (props.modelValue && props.clearable && !props.disabled && !props.readonly);\n        });\n        const formItemContext = inject(FormItemContextKey);\n        return (_ctx, _cache) => {\n            const _component_h_icon = _resolveComponent(\"h-icon\");\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([_unref(bem).b()])\n            }, [\n                _createElementVNode(\"div\", {\n                    class: _normalizeClass(_unref(bem).e('group'))\n                }, [\n                    _createCommentVNode(\" 头部内容 \"),\n                    (_unref(slots).prefix)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: _normalizeClass(_unref(bem).be('group', 'prefix'))\n                        }, [\n                            _renderSlot(_ctx.$slots, \"prefix\")\n                        ], 2))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\" 输入框+输入框前置+后置 \"),\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass([_unref(bem).e('wrapper'), _unref(bem).is('focus', isFocus.value)])\n                    }, [\n                        (_unref(slots).prepend)\n                            ? (_openBlock(), _createElementBlock(\"span\", {\n                                key: 0,\n                                class: _normalizeClass(_unref(bem).e('prepend'))\n                            }, [\n                                _renderSlot(_ctx.$slots, \"prepend\")\n                            ], 2))\n                            : _createCommentVNode(\"v-if\", true),\n                        _createElementVNode(\"input\", _mergeProps({\n                            type: _ctx.showPassword ? (passwordVisible.value ? 'text' : 'password') : _ctx.type\n                        }, _unref(attrs), {\n                            class: [_unref(bem).e('inner'), _unref(bem).is('disabled', _ctx.disabled)],\n                            ref_key: \"input\",\n                            ref: input,\n                            onInput: handleInput,\n                            onChange: handleChange,\n                            onBlur: handleBlur,\n                            onFocus: handleFocus,\n                            placeholder: _ctx.placeholder,\n                            disabled: _ctx.disabled,\n                            readonly: _ctx.readonly\n                        }), null, 16, _hoisted_1),\n                        _createCommentVNode(\" eyes show or hide \"),\n                        _withDirectives(_createVNode(_component_h_icon, { onClick: handlePasswordVisible }, {\n                            default: _withCtx(() => [\n                                _createVNode(_unref(EyeOutline))\n                            ]),\n                            _: 1\n                        }, 512), [\n                            [_vShow, passwordVisible.value && _ctx.showPassword]\n                        ]),\n                        _withDirectives(_createVNode(_component_h_icon, { onClick: handlePasswordVisible }, {\n                            default: _withCtx(() => [\n                                _createVNode(_unref(EyeOffOutline))\n                            ]),\n                            _: 1\n                        }, 512), [\n                            [_vShow, !passwordVisible.value && _ctx.showPassword]\n                        ]),\n                        _createCommentVNode(\" clear function \"),\n                        _withDirectives(_createVNode(_component_h_icon, { onClick: clear }, {\n                            default: _withCtx(() => [\n                                _createVNode(_unref(CloseCircleOutline))\n                            ]),\n                            _: 1\n                        }, 512), [\n                            [_vShow, showClear.value]\n                        ]),\n                        (_unref(slots).append)\n                            ? (_openBlock(), _createElementBlock(\"span\", {\n                                key: 1,\n                                class: _normalizeClass(_unref(bem).e('append'))\n                            }, [\n                                _renderSlot(_ctx.$slots, \"append\")\n                            ], 2))\n                            : _createCommentVNode(\"v-if\", true)\n                    ], 2),\n                    _createCommentVNode(\" 尾部内容 \"),\n                    (_unref(slots).suffix)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 1,\n                            class: _normalizeClass(_unref(bem).be('group', 'suffix'))\n                        }, [\n                            _renderSlot(_ctx.$slots, \"suffix\")\n                        ], 2))\n                        : _createCommentVNode(\"v-if\", true)\n                ], 2)\n            ], 2));\n        };\n    } }));\n//# sourceMappingURL=input.vue?vue&type=script&setup=true&lang.js.map","references":["/Users/mamingzhe/Horse UI/node_modules/.pnpm/vue@3.4.21_typescript@5.4.2/node_modules/vue/dist/vue.d.ts","/Users/mamingzhe/Horse UI/node_modules/.pnpm/vue@3.4.21_typescript@5.4.2/node_modules/vue/dist/vue.d.ts","/Users/mamingzhe/Horse UI/node_modules/.pnpm/vue@3.4.21_typescript@5.4.2/node_modules/vue/dist/vue.d.ts","/Users/mamingzhe/Horse UI/packages/utils/create.ts","/Users/mamingzhe/Horse UI/packages/components/input/src/input.ts","/Users/mamingzhe/Horse UI/node_modules/.pnpm/@vicons+ionicons5@0.12.0/node_modules/@vicons/ionicons5/es/index.d.ts","/Users/mamingzhe/Horse UI/packages/components/form/src/form-item.ts"],"map":"{\"version\":3,\"file\":\"input.vue?vue&type=script&setup=true&lang.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../packages/components/input/src/input.vue?vue&type=script&setup=true&lang.ts\"],\"names\":[],\"mappings\":\"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\"}"}
