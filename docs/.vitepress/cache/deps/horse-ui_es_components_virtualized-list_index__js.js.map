{
  "version": 3,
  "sources": ["../../../node_modules/horse-ui/es/components/virtualized-list/index.js"],
  "sourcesContent": ["import { withInstall } from '../../utils/with-install';\nimport { defineComponent, ref, reactive, computed, watch, onMounted, nextTick, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle, Fragment, renderList, renderSlot } from 'vue';\n\nconst virtualizedProps = {\n  size: {\n    type: Number,\n    default: 32\n  },\n  remain: {\n    type: Number,\n    default: 8\n  },\n  items: {\n    type: Array,\n    default: () => []\n  }\n};\n\nconst _bem = (namespace, blockSuffix, element, modifier) => {\n  let cls = namespace;\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`;\n  }\n  if (element) {\n    cls += `__${element}`;\n  }\n  if (modifier) {\n    cls += `--${modifier}`;\n  }\n  return cls;\n};\nfunction createBEM(namespace) {\n  const b = (blockSuffix = \"\") => _bem(namespace, blockSuffix, \"\", \"\");\n  const e = (element) => element ? _bem(namespace, \"\", element, \"\") : \"\";\n  const m = (modifier) => modifier ? _bem(namespace, \"\", \"\", modifier) : \"\";\n  const be = (blockSuffix, element) => blockSuffix && element ? _bem(namespace, blockSuffix, element, \"\") : \"\";\n  const bm = (blockSuffix, modifier) => blockSuffix && modifier ? _bem(namespace, blockSuffix, \"\", modifier) : \"\";\n  const em = (element, modifier) => element && modifier ? _bem(namespace, \"\", element, modifier) : \"\";\n  const bem2 = (blockSuffix, element, modifier) => blockSuffix && element && modifier ? _bem(namespace, blockSuffix, element, modifier) : \"\";\n  const is = (name, state) => state ? `is-${name}` : \"\";\n  return { b, e, m, be, bm, em, bem: bem2, is };\n}\nfunction createNameSpace(name) {\n  const namespace = `h-${name}`;\n  return createBEM(namespace);\n}\nconst bem = createNameSpace(\"button\");\nconsole.log(bem.b(\"box\"));\nconsole.log(bem.bem(\"block\", \"element\", \"modifier\"));\nconsole.log(bem.is(\"isChecked\", true));\n\nvar script = /* @__PURE__ */ defineComponent({\n  ...{\n    name: \"h-virtualized\"\n  },\n  __name: \"virtualized\",\n  props: virtualizedProps,\n  setup(__props) {\n    const bem = createNameSpace(\"v\");\n    const props = __props;\n    const showHeight = ref(null);\n    const scrollBarHeight = ref(null);\n    const scrollTopDistance = ref(0);\n    const state = reactive({\n      start: 0,\n      end: props.remain\n    });\n    const visibleData = computed(() => {\n      return props.items.slice(\n        state.start - prevData.value,\n        state.end + nextData.value\n      );\n    });\n    const prevData = computed(() => {\n      return Math.min(state.start, props.remain / 2);\n    });\n    const nextData = computed(() => {\n      return Math.min(props.remain / 2, props.items.length - state.end);\n    });\n    const handleScroll = () => {\n      if (showHeight.value) {\n        const scrollTop = showHeight.value.scrollTop;\n        state.start = Math.floor(scrollTop / props.size);\n        state.end = state.start + props.remain;\n        scrollTopDistance.value = props.size * state.start - props.size * prevData.value;\n      }\n    };\n    const initData = () => {\n      if (showHeight.value) {\n        showHeight.value.style.height = `${props.remain * props.size}px`;\n      }\n      if (scrollBarHeight.value) {\n        scrollBarHeight.value.style.height = `${props.items.length * props.size}px`;\n      }\n    };\n    watch(() => props.items, initData);\n    onMounted(() => {\n      console.log(\"1111\");\n      nextTick(() => {\n        initData();\n      });\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\n        \"div\",\n        {\n          class: normalizeClass(unref(bem).b()),\n          ref_key: \"showHeight\",\n          ref: showHeight,\n          onScroll: handleScroll\n        },\n        [\n          createElementVNode(\n            \"div\",\n            {\n              class: normalizeClass(unref(bem).e(\"scroll-bar\")),\n              ref_key: \"scrollBarHeight\",\n              ref: scrollBarHeight\n            },\n            null,\n            2\n            /* CLASS */\n          ),\n          createElementVNode(\n            \"div\",\n            {\n              class: normalizeClass(unref(bem).e(\"scroll-list\")),\n              style: normalizeStyle({ transform: `translate3d(0, ${scrollTopDistance.value}px, 0)` })\n            },\n            [\n              (openBlock(true), createElementBlock(\n                Fragment,\n                null,\n                renderList(visibleData.value, (node, index) => {\n                  return renderSlot(_ctx.$slots, \"default\", {\n                    key: index,\n                    node\n                  });\n                }),\n                128\n                /* KEYED_FRAGMENT */\n              ))\n            ],\n            6\n            /* CLASS, STYLE */\n          )\n        ],\n        34\n        /* CLASS, NEED_HYDRATION */\n      );\n    };\n  }\n});\n\nscript.__file = \"packages/components/virtualized-list/src/virtualized.vue\";\n\nconst Virtualized = withInstall(script);\n\nexport { Virtualized as default };\n"],
  "mappings": "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",
  "names": ["bem"]
}
